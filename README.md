# Intelligent-Placer
# Постановка задачи

## Общее описание

На вход алгоритму приходит фотография, содержащая изображения предметов на светлой горизонтальной плоскости и многоугольник. Необходимо определить, возможно ли разместить предметы внутри многоугольника.
Выход алгоритма - ответ на поставленный выше вопрос в виде yes/no
Фотографии предметов и текстура горизонтальной плоскости находятся в папке objects. 


## Требования к входным данным

- Многоугольник, подаваемый на вход - нарисованный черным маркером выпуклый многоугольник, до 6 вершин.
- Качество фотографий должно быть таким, чтобы края объектов были четко различимы. Все края листа бумаги на фото должны быть хорошо видны и не должны сливаться с фоном. Необходимое разрешение - 960x720 (или 720x960)
- Фотографировать необходимо перпендикулярно плоскости расположения предметов (или близко к тому). Расстояние до плоскости - около метра.
- Все предметы должны быть визуально разделены, и целиком расположены в кадре.
- Предметы должны быть различными. Все многообразие предметов - те, которые изображены на фотографии в папке objects.
- Допускается вращение объектов только относительно оси, перпендикулярной плоскости их расположения.
- Крайне нежелательно наличие теней. Для этого рекомендуется использовать вспышку.
- На входных данных прямоугольник должен располагаться выше середины, предметы ниже. Стараться располагать все объекты ближе к центру.

# Алгоритм
## Базовый алгоритм
- Обвести предметы прямоугольниками.
- Вписать в многоугольник прямоугольник.
- Решаем задачу об укладке прямоугольников, обрамляющих присутствующие на фотографии предметы, в прямоугольник, аппроксимирующий многоугольник
- Проверить самые общие условия: площадь многоугольника не меньше сумм площадей предметов, диагональ многоугольника не меньше длины наибольшего предмета и т.п.

## Итерации по улучшению
- Как дополнительное упрощение, считаем, что предметы можно поворачивать только на 90 градусов, т.е. стороны всех прямоугольников параллельны. Попытаться уложить прямоугольники, исходя из этого предположения.
- Отменить дополнительное упрощение - поворачивать предметы можно как угодно
- Решать задачу с исходным многоугольником, а не его прямоугольной аппроксимацией (Не уверен, какое усложнение легче реализовать)
- Обвести предметы не прямоугольниками, а сложными фигурами, как можно более близкими к исходным предметам

## Итоговый алгоритм
- Заранее обвести все предметы на фотографиях предметов сложными фигурами, как можно более близкими к исходным предметам
- На входных фотографиях, используя методы из Opencv (как во второй мини-лабе) найти присутствующие там объекты, и обвести их фигурами из прошлого пункта
- Решаем задачу об укладке фигур, присутствующие на фотографии, в многоугольник

# Результаты
- Пока алгоритм из 17 картинок правильно определил 5 и не выдал заключения по оставшимся картинкам. Если использовать случайный выбор решения для неопределившихся картинок, то можно достигнуть ~65% результативности.